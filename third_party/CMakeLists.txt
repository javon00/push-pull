
IF(WIN32)
  ADD_DEFINITIONS(-DGEEX_EXPORTS)
ELSE(WIN32)
  ADD_DEFINITIONS(-DBINARY_DIR=\\"${CMAKE_BINARY_DIR}\\")
  ADD_DEFINITIONS(-DPROJECT_ROOT=\\"${CMAKE_SOURCE_DIR}\\")
ENDIF(WIN32)

AUX_SOURCE_DIRECTORY(zlib SOURCES)
AUX_SOURCE_DIRECTORY(png SOURCES)

ADD_LIBRARY(ThirdParty ${SOURCES} ${HeaderFiles})

SET(LINUX 1)

IF (CMAKE_CL_64)
SET(WIN32 0)
SET(WIN64 1)
ENDIF (CMAKE_CL_64)

IF (WIN32)
   TARGET_LINK_LIBRARIES(ThirdParty)
   SET_TARGET_PROPERTIES(ThirdParty PROPERTIES LINK_FLAGS "/INCREMENTAL /LARGEADDRESSAWARE")
   SET(LINUX 0)
ENDIF (WIN32)

IF (WIN64)
   TARGET_LINK_LIBRARIES(ThirdParty)
   SET_TARGET_PROPERTIES(ThirdParty PROPERTIES LINK_FLAGS_DEBUG "/NODEFAULTLIB:msvcrt /INCREMENTAL" LINK_FLAGS_RELEASE "/INCREMENTAL")
   SET(LINUX 0)   
ENDIF (WIN64)

IF (LINUX)
     TARGET_LINK_LIBRARIES(ThirdParty X11 Xext Xi)
ENDIF (LINUX)

IF (CMAKE_CL_64)
SET(WIN32 1)
SET(WIN64 0)
ENDIF (CMAKE_CL_64)
